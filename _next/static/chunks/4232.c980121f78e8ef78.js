"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4232],{14232:(r,e,t)=>{t.d(e,{clientDbService:()=>n});var a=t(91502);class o{async createUser(r){try{return{user:await (0,a.s9)(r)}}catch(r){throw Error("Failed to create user: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getUserByEmail(r){try{return{user:await (0,a.yK)(r)}}catch(r){throw Error("Failed to get user by email: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getUser(r){try{return{user:await (0,a.ZS)(r)}}catch(r){throw Error("Failed to get user: ".concat(r instanceof Error?r.message:"Unknown error"))}}async saveChat(r){try{return{chat:await (0,a.xW)(r)}}catch(r){throw Error("Failed to save chat: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getChat(r){try{return{chat:await (0,a.getLocalChat)(r)}}catch(r){throw Error("Failed to get chat: ".concat(r instanceof Error?r.message:"Unknown error"))}}async deleteChat(r){try{let e=await (0,a.L0)(r);return{success:!1!==e}}catch(r){throw Error("Failed to delete chat: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getChatsByUser(r){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=await (0,a.W2)(r);if("createdAt"===e.sort&&(t=t.sort((r,e)=>new Date(e.createdAt).getTime()-new Date(r.createdAt).getTime())),e.limit){let r=Number.parseInt(e.limit,10),a=e.offset?Number.parseInt(e.offset,10):0;t=t.slice(a,a+r)}return{chats:t}}catch(r){throw Error("Failed to get chats by user: ".concat(r instanceof Error?r.message:"Unknown error"))}}async deleteAllChatsByUser(r){try{let e=await (0,a.W2)(r),t=0;for(let r of e)await (0,a.L0)(r.id)&&t++;return{deletedCount:t}}catch(r){throw Error("Failed to delete all chats by user: ".concat(r instanceof Error?r.message:"Unknown error"))}}async saveMessages(r){try{return{success:await (0,a.b4)(r.chatId,r.messages)}}catch(r){throw Error("Failed to save messages: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getMessages(r){try{return{messages:await (0,a.Em)(r)}}catch(r){throw Error("Failed to get messages: ".concat(r instanceof Error?r.message:"Unknown error"))}}async saveVote(r){try{return{vote:await (0,a.N$)(r)}}catch(r){throw Error("Failed to save vote: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getVotes(r){try{return{votes:await (0,a.ZD)(r)}}catch(r){throw Error("Failed to get votes: ".concat(r instanceof Error?r.message:"Unknown error"))}}async saveDocument(r){try{return{document:await (0,a.gY)(r)}}catch(r){throw Error("Failed to save document: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getDocument(r){try{return{document:await (0,a.ry)(r)}}catch(r){throw Error("Failed to get document: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getSuggestions(r){try{return{suggestions:await (0,a.BP)(r)}}catch(r){throw Error("Failed to get suggestions: ".concat(r instanceof Error?r.message:"Unknown error"))}}async saveSuggestions(r){try{return{success:await (0,a.UN)(r.suggestions)}}catch(r){throw Error("Failed to save suggestions: ".concat(r instanceof Error?r.message:"Unknown error"))}}async saveFile(r){try{return{file:await (0,a.n$)(r)}}catch(r){throw Error("Failed to save file: ".concat(r instanceof Error?r.message:"Unknown error"))}}async getFile(r){try{return{file:await (0,a.IT)(r)}}catch(r){throw Error("Failed to get file: ".concat(r instanceof Error?r.message:"Unknown error"))}}}let n=new o}}]);